{% comment %} @SPK@include("partials/mainhead.html") {% endcomment %}
{% include "../partials/mainhead.html"%}
<style>
    /* CSS for hover effect to show it's clickable */
    .clickable-div {
        cursor: pointer; /* Show pointer cursor */
        transition: background-color 0.2s ease; /* Smooth transition for background color */
    }

    .clickable-div:hover {
        background-color: #f0f0f0; /* Light background on hover */
    }

    .border-primary {
        border: 2px solid #007bff; /* Highlight user icon */
    }
    .d-flex {
        border-radius: 10px;
    }
    .text-success {
        font-weight: bold;
        color: #28a745 !important;
    }
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body>
    {% load static %}
    {% comment %} @SPK@include("partials/switcher.html") {% endcomment %}
    {% include "../partials/switcher.html" %}
    <div class="page">
        {% comment %} @SPK@include("partials/header.html") {% endcomment %}
        {% include "../partials/header.html"%}
        {% comment %} @SPK@include("partials/sidebar.html") {% endcomment %}
        {% include "../partials/sidebar.html" %}
        <!-- Start::app-content -->
         
        <div class="main-content app-content">

            
            <!-- Bootstrap Modal for Alert -->
            {% comment %} <div class="d-flex my-4"> {% endcomment %}
                <button onclick="history.back()" class="btn">
                    <img src="{% static 'images/icons/back.png' %}" alt="Back" style="width: 26px; height: 26px; margin-right: 5px;">
                </button>
            {% comment %} </div> {% endcomment %}
            <div class="container mt-5">
                <!-- Exam Title and Print Button -->
                
        
                <!-- Exam Details Section -->
                <div id="exam-details">
                    <!-- Exam details will be dynamically inserted here -->
                </div>
                {% comment %} <button id="print-questions-btn" class="btn ">
                    <i class="bi bi-printer"></i>
                </button> {% endcomment %}
                <button class="btn btn-light mb-4" id="print-questions-btn">
                    <img src="{% static 'images/icons/print.png' %}" alt="print" style="width: 26px; height: 26px;">
                </button>
        
                <!-- Main Content: User Attempts and Leaderboard -->
                <div class="row">
                    <!-- User Attempts Section -->
                    <div class="col-lg-8 col-md-12 overflow-auto">
                        <h4 class="mb-3">User Attempts</h4>
                        <table class="table table-striped table-bordered text-center">
                            <thead class="bg-green text-white">
                                <tr>
                                    <th>Date</th>
                                    <th>Name</th>
                                    <th>Questions</th>
                                    <th>Answered</th>
                                    <th>Right</th>
                                    <th>Wrong</th>
                                    <th>Pass Mark</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="user-attempts">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                
                    <!-- Detailed Attempt Modal -->
                    <div class="modal fade" id="attempt-details-modal" tabindex="-1" aria-labelledby="attemptDetailsModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="attemptDetailsModalLabel">Attempt Details</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body overflow-auto">
                                    <table class="table table-striped text-center overflow-hidden">
                                        <thead class="bg-green text-white">
                                            <tr>
                                                <th>Attempt Date</th>
                                                <th>Attempt Time</th>
                                                <th>Total Questions</th>
                                                <th>Answered</th>
                                                <th>Correct</th>
                                                <th>Wrong</th>
                                                <th>Pass Mark</th>
                                            </tr>
                                        </thead>
                                        <tbody id="user-attempts-details">
                                            <!-- Dynamically populated -->
                                        </tbody>
                                    </table>

                                    <div class="my-4">
                                        <canvas id="attemptChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <!-- Leaderboard Section -->
                    <div class="col-lg-3 col-md-12 mt-4">
                        <h4>Top 10 Scorers</h4>
                        <div class="card">
                            <div class="card-body">
                                <div id="leaderboard" class="row row-cols-2 row-cols-md-2 row-cols-lg-1 g-4">
                                    <!-- Dynamic Entries will be inserted here -->
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
            

            <!-- MY custom macq-->



            
        </div>
        <!-- End::app-content -->

        {% comment %} @SPK@include("partials/headersearch_modal.html") {% endcomment %}
        {% include "../partials/headersearch_modal.html"%}
        {% comment %} @SPK@include("partials/footer.html") {% endcomment %}
        {% include "../partials/footer.html" %}
    </div>

    {% comment %} @SPK@include("partials/commonjs.html") {% endcomment %}
    {% include "../partials/commonjs.html"%}

    {% comment %} @SPK@include("partials/custom_switcherjs.html") {% endcomment %}
    {% include "../partials/custom_switcherjs.html"%}
    <!-- Custom JS -->
    <script src="../../../static/assets/js/custom.js"></script>

    <!-- My exam js -->
    <script src = "../../../static/Js/result.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>const imagePath = "{% static 'images/icons/challenge.png' %}";</script>


</body>

</html>